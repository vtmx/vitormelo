(()=>{var l={init(){this.btnColorScheme=document.querySelector(".btn-color-scheme"),this.btnColorSchemeIcon=this.btnColorScheme.querySelector(".icon"),this.btnColorContrast=document.querySelector(".btn-contrast-control"),localStorage.theme==="dark"||!("theme"in localStorage)&&window.matchMedia("(prefers-color-scheme: dark)").matches?this.toggleColorSheme("dark"):this.toggleColorSheme("light"),(localStorage.contrast==="true"||window.matchMedia("(prefers-contrast: more)").matches)&&this.toggleContrast("more"),this.btnColorScheme.addEventListener("click",e=>{e.preventDefault(),this.toggleColorSheme()}),this.btnColorContrast.addEventListener("click",e=>{e.preventDefault(),this.toggleContrast()})},toggleColorSheme(e=""){let t=e===""?document.body.classList.contains("light"):e==="dark";document.body.classList.toggle("dark",t),document.body.classList.toggle("light",!t);let i=t?"icon-sun":"icon-moon";this.btnColorSchemeIcon.classList.remove("icon-sun","icon-moon"),this.btnColorSchemeIcon.classList.add(i),this.btnColorSchemeIcon.firstElementChild.setAttribute("href",`#${i}`),localStorage.theme=t?"dark":"light"},toggleContrast(e=""){let t=e===""?void 0:e==="more",i=document.body.classList.toggle("contrast",t);localStorage.contrast=i?"true":"false"}};var a={init(){this.navLinks=document.querySelectorAll('#menu a[href^="#"]'),this.navLinkFirst=document.querySelector('#menu a[href^="#"]'),this.navLinkFirst.setAttribute("aria-current","true"),this.sections=document.querySelectorAll("main section[id]"),this.sectionFirst=this.sections[0],this.sectionLast=this.sections[this.sections.length-1],this.sectionFirst.setAttribute("aria-current","true");let e={next:["KeyJ","Space","ArrowRight"],prev:["KeyK","ArrowLeft"]};window.addEventListener("keydown",t=>{e.next.includes(t.code)&&this.changeSection("next"),e.prev.includes(t.code)&&this.changeSection("prev")}),document.querySelectorAll("#section-control button").forEach(t=>{t.addEventListener("click",()=>{let i=t.classList.contains("next")?"next":t.classList.contains("prev")?"prev":"top";this.changeSection(i)})}),this.navLinks.forEach(t=>{t.addEventListener("click",i=>{this.changeSection(t.getAttribute("href").slice(1)),this.activateRippleEffect(i,"span","ripple")})}),this.isScrolling=!1,this.scrollSpy()},updateUI(e){if(this.isScrolling)return;let t=document.getElementById(e);if(!t)return;document.querySelectorAll('[aria-current="true"]').forEach(s=>s.removeAttribute("aria-current")),t.setAttribute("aria-current","true");let i=document.querySelector(`#menu a[href="#${e}"]`);i&&i.setAttribute("aria-current","true");let o=t.querySelector(".title")?.textContent||"";document.title=`Vitor Melo - ${o}`,history.replaceState(null,"",`#${e}`)},changeSection(e){let t=document.querySelector('section[aria-current="true"]')||this.sectionFirst,i;e==="next"?i=t===this.sectionLast?this.sectionFirst:t.nextElementSibling:e==="prev"?i=t===this.sectionFirst?this.sectionLast:t.previousElementSibling:e==="top"?i=this.sectionFirst:i=document.getElementById(e),i&&(this.isScrolling=!1,this.updateUI(i.id),this.isScrolling=!0,i.scrollIntoView({behavior:"smooth"}),setTimeout(()=>{this.isScrolling=!1},1e3))},scrollSpy(){let e=new IntersectionObserver(t=>{this.isScrolling||t.forEach(i=>{i.isIntersecting&&this.updateUI(i.target.id)})},{rootMargin:"-30% 0px -60% 0px"});this.sections.forEach(t=>e.observe(t))},activateRippleEffect(e,t,i){let o=e.currentTarget,s=o.clientWidth,h=o.clientHeight,r=Math.max(s,h),u=r/2,n=document.createElement("div");n.style.width=n.style.height=`${r}px`,n.style.top=`${e.clientY-(o.offsetTop+u)}px`,n.style.left=`-${o.clientWidth/2}px`,n.classList.add(i);let c=document.querySelector(".ripple");c&&c.remove(),o.appendChild(n)}};l.init();a.init();})();
