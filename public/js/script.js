(()=>{var l={init(){this.btnIconColorScheme=document.querySelector(".btn-color-scheme .icon"),localStorage.theme==="dark"||!("theme"in localStorage)&&window.matchMedia("(prefers-color-scheme: dark)").matches?this.setDark(this.btnIconColorScheme):this.setLight(this.btnIconColorScheme),localStorage.contrast==="true"||window.matchMedia("(prefers-contrast: more)").matches?(document.body.classList.add("contrast"),localStorage.contrast="true"):(document.body.classList.remove("contrast"),localStorage.contrast="false"),this.btnColorScheme=document.querySelector(".btn-color-scheme"),this.btnColorContrast=document.querySelector(".btn-contrast-control"),this.btnColorScheme.addEventListener("click",t=>{t.preventDefault(),this.toggleColorSheme()}),this.btnColorContrast.addEventListener("click",t=>{t.preventDefault(),this.toggleContrast()})},toggleColorSheme(){let t=document.querySelector(".btn-color-scheme .icon");localStorage.theme==="dark"?this.setLight(t):this.setDark(t)},toggleContrast(){localStorage.contrast==="true"?(document.body.classList.remove("contrast"),localStorage.contrast="false"):(document.body.classList.add("contrast"),localStorage.contrast="true")},setDark(t){document.body.classList.add("dark"),this.btnIconColorScheme.classList.remove("icon-moon"),this.btnIconColorScheme.classList.add("icon-sun"),this.btnIconColorScheme.firstElementChild.setAttribute("href","#icon-sun"),localStorage.theme="dark"},setLight(t){document.body.classList.remove("dark"),this.btnIconColorScheme.classList.remove("icon-moon"),this.btnIconColorScheme.classList.add("icon-moon"),this.btnIconColorScheme.firstElementChild.setAttribute("href","#icon-moon"),localStorage.theme="light"}};var a={init(){this.navLinks=document.querySelectorAll('#menu a[href^="#"]'),this.navLinkFirst=document.querySelector('#menu a[href^="#"]'),this.navLinkFirst.setAttribute("aria-current","true"),this.sections=document.querySelectorAll("main section[id]"),this.sectionFirst=this.sections[0],this.sectionLast=this.sections[this.sections.length-1],this.sectionFirst.setAttribute("aria-current","true");let t={next:["KeyJ","Space","ArrowRight"],prev:["KeyK","ArrowLeft"]};window.addEventListener("keydown",e=>{t.next.includes(e.code)&&this.changeSection("next"),t.prev.includes(e.code)&&this.changeSection("prev")}),document.querySelectorAll("#section-control button").forEach(e=>{e.addEventListener("click",()=>{let o=e.classList.contains("next")?"next":e.classList.contains("prev")?"prev":"top";this.changeSection(o)})}),this.navLinks.forEach(e=>{e.addEventListener("click",o=>{this.changeSection(e.getAttribute("href").slice(1)),this.activateRippleEffect(o,"span","ripple")})}),this.scrollSpy()},updateUI(t){let e=document.getElementById(t);if(!e)return;document.querySelectorAll('[aria-current="true"]').forEach(i=>i.removeAttribute("aria-current")),e.setAttribute("aria-current","true");let o=document.querySelector(`#menu a[href="#${t}"]`);o&&o.setAttribute("aria-current","true");let n=e.querySelector(".title")?.textContent||"";document.title=`Vitor Melo - ${n}`,history.replaceState(null,"",`#${t}`)},changeSection(t){let e=document.querySelector('section[aria-current="true"]')||this.sectionFirst,o;t==="next"?o=e===this.sectionLast?this.sectionFirst:e.nextElementSibling:t==="prev"?o=e===this.sectionFirst?this.sectionLast:e.previousElementSibling:t==="top"?o=this.sectionFirst:o=document.getElementById(t),o&&(o.scrollIntoView({behavior:"smooth"}),this.updateUI(o.id))},scrollSpy(){let t=new IntersectionObserver(e=>{e.forEach(o=>{o.isIntersecting&&this.updateUI(o.target.id)})},{rootMargin:"-30% 0px -60% 0px"});this.sections.forEach(e=>t.observe(e))},activateRippleEffect(t,e,o){let n=t.currentTarget,i=n.clientWidth,h=n.clientHeight,r=Math.max(i,h),d=r/2,s=document.createElement("div");s.style.width=s.style.height=`${r}px`,s.style.top=`${t.clientY-(n.offsetTop+d)}px`,s.style.left=`-${n.clientWidth/2}px`,s.classList.add(o);let c=document.querySelector(".ripple");c&&c.remove(),n.appendChild(s)}};l.init();a.init();})();
