export default{init(){this.menuItemFirst=document.querySelector("#menu a"),this.menuItemFirst.classList.add("active"),this.sectionFirst=document.querySelector("main section:first-of-type"),this.sectionFirst.classList.add("active"),this.sectionLast=document.querySelector("main section:last-of-type"),this.keyLeft=["KeyA","KeyW","KeyH","KeyK","ArrowLeft"],this.keyRight=["KeyD","KeyS","KeyL","KeyJ","Space","ArrowRight"],window.addEventListener("keydown",e=>{this.keyRight.indexOf(e.code)!==-1?this.changeSection("next"):this.keyLeft.indexOf(e.code)!==-1&&this.changeSection("prev")}),this.buttonSectionNext=document.querySelector("#section-control .next"),this.buttonSectionPrev=document.querySelector("#section-control .prev"),this.buttonSectionTop=document.querySelector("#section-control .top"),this.buttonSectionNext.addEventListener("click",()=>{this.changeSection("next")}),this.buttonSectionPrev.addEventListener("click",()=>{this.changeSection("prev")}),this.buttonSectionTop.addEventListener("click",()=>{this.changeSection("top")}),this.menuItems=document.querySelectorAll("#menu a"),this.menuItems.forEach(e=>{e.addEventListener("click",t=>{this.changeSection(e.getAttribute("href").slice(1)),this.activateRippleEffect(t,"span","ripple")})})},changeSection(e){let t=document.querySelector("section.active");switch(e){case"next":this.sectionLast.classList.contains("active")?t=this.sectionFirst:t=t.nextElementSibling;break;case"prev":this.sectionFirst.classList.contains("active")?t=this.sectionLast:t=t.previousElementSibling;break;case"top":t=this.sectionFirst;break;default:t=document.querySelector(`main #${e}`);break}const n=t.getAttribute("id"),s=document.querySelector(`#menu a[href*="${n}"]`),o=document.querySelector("#menu a.active");o.classList.remove("active"),o.removeAttribute("aria-current");const i=document.querySelector("section.active");i.classList.remove("active"),i.removeAttribute("aria-current"),s.classList.add("active"),s.setAttribute("aria-current","true"),t.classList.add("active"),t.setAttribute("aria-current","true"),t.scrollIntoView({behavior:"smooth",block:"start"}),history.replaceState(null,"",`#${n}`)},activateRippleEffect(e,t,n){const o=e.currentTarget,r=o.clientWidth,c=o.clientHeight,i=Math.max(r,c),l=i/2,s=document.createElement("div");s.style.width=s.style.height=`${i}px`,s.style.top=`${e.clientY-(o.offsetTop+l)}px`,s.style.left=`-${o.clientWidth/2}px`,s.classList.add(n);const a=document.querySelector(".ripple");a&&a.remove(),o.appendChild(s)}}